import sys
import os
SCRIPT_DIR = os.path.dirname(os.path.abspath(__file__))
sys.path.append(os.path.dirname(SCRIPT_DIR))
from Interpreter.run_interpreter import Interpreter
from fitness_functions import get_fit_func
from read_data import read_data
from GP.Node import generateTree





test = """

B3 = ! ! True && X3 >= X4 if ( ! ( False ) && ! True || B3 || False ) { read ( X3 ) } if ( False ) { B3 = False } read ( X4 ) read ( X3 ) X4 = X4 if ( False ) { if ( ! B1 ) { write ( - 438 ) write ( 607 ) } if ( ( ! False ) && False ) { while ( ! False ) { if ( False ) { } B1 = False read ( X2 ) if ( False ) { } read ( B2 ) read ( X2 ) while ( False ) { } write ( 318 ) write ( False ) } } } if ( B1 ) { if ( True ) { write ( True ) } } if ( ! False ) { while ( X3 + X3 > X3 + X3 ) { write ( X2 / X5 ) write ( X5 ) while ( False ) { write ( 261 ) write ( 991 ) while ( False ) { } while ( False ) { } while ( False ) { } while ( False ) { } write ( 729 ) write ( False ) } while ( ! False ) { } if ( B1 ) { write ( False ) write ( False ) } if ( ( False ) ) { read ( X5 ) } B2 = False || False } while ( True || ! 492 == 377 ) { read ( X4 ) read ( X1 ) X4 = X2 / X3 B3 = True while ( False ) { X1 = 694 write ( 248 ) read ( X3 ) B1 = False read ( X4 ) while ( False ) { } write ( False ) if ( False ) { } if ( False ) { } write ( 21 ) B3 = False if ( False ) { } read ( X3 ) B2 = False write ( 711 ) } write ( X2 ) write ( X4 ) } } if ( B2 ) { while ( True ) { if ( 490 != 778 ) { while ( False ) { } } write ( 96 < 115 ) write ( X1 - X4 ) X1 = 912 read ( X4 ) if ( ( False ) ) { while ( False ) { } } read ( X4 ) X1 = 841 read ( X3 ) } } while ( False ) { if ( True ) { read ( X4 ) } if ( B2 ) { if ( False ) { while ( False ) { } } } B3 = False && ( ! False ) while ( False ) { if ( 606 >= 602 ) { read ( X5 ) } if ( False || False ) { while ( False ) { } } while ( B2 ) { while ( False ) { } while ( False ) { } X5 = 745 while ( False ) { } while ( False ) { } X2 = 757 if ( False ) { } if ( False ) { } read ( X5 ) X3 = 832 } while ( ! False ) { } read ( B2 ) write ( 244 ) write ( 512 <= 82 ) read ( X4 ) if ( ( False ) ) { while ( False ) { } while ( False ) { } } if ( False && False ) { write ( False ) } if ( ! False ) { while ( False ) { } while ( False ) { } } if ( 7 > 992 ) { B2 = False } B1 = ! False B3 = B1 if ( False || False ) { B3 = False } if ( True ) { if ( False ) { } } if ( False ) { read ( X1 ) } if ( B2 ) { while ( False ) { } } write ( X1 / X5 ) write ( False ) while ( False && False ) { read ( B2 ) B3 = False if ( False ) { } if ( False ) { } while ( False ) { } while ( False ) { } read ( X2 ) B2 = False if ( False ) { } if ( False ) { } write ( 942 ) write ( False ) } while ( B2 ) { read ( X2 ) if ( False ) { } } } while ( ( ! ( False ) ) ) { read ( X5 ) read ( X1 ) write ( X3 + X2 ) write ( X1 + X2 ) write ( X3 ) B2 = 811 >= 717 while ( False || False ) { B3 = False while ( False ) { } while ( False ) { } write ( 747 ) write ( 73 ) while ( False ) { } write ( 230 ) read ( X4 ) } read ( X5 ) if ( 541 < 167 ) { read ( X4 ) } write ( B2 ) write ( False ) } read ( X1 ) if ( B2 ) { write ( X2 ) write ( B2 ) } if ( ( 16 > 412 || 497 == 445 ) ) { while ( False && False ) { while ( False ) { } read ( X5 ) read ( X4 ) } } if ( B1 ) { if ( False || False ) { if ( False ) { } if ( False ) { } } if ( B2 ) { while ( False ) { } } } if ( B2 ) { while ( B2 ) { write ( False ) write ( 236 ) write ( 368 ) write ( False ) if ( False ) { } if ( False ) { } if ( False ) { } read ( X2 ) while ( False ) { } if ( False ) { } if ( False ) { } if ( False ) { } if ( False ) { } read ( X1 ) } } X4 = X1 B2 = ( ( 209 ) ) == X5 if ( B3 ) { read ( X2 ) } if ( True ) { write ( X3 * X5 ) } write ( X3 > 733 ) write ( True ) if ( ( 605 >= X2 ) ) { if ( 163 == 731 ) { while ( False ) { } while ( False ) { } } if ( 912 > 216 ) { if ( False ) { } } } if ( ( ( ( False ) ) ) ) { X1 = - 757 } read ( X2 ) write ( 257 ) write ( ! ! True ) write ( ( ( 70 == 155 ) ) ) write ( - X2 ) write ( X1 + X2 ) write ( X4 ) } while ( X1 + X2 >= X2 + X3 ) { read ( X3 ) X5 = X2 write ( X3 + X2 == X3 + X1 ) write ( False ) read ( B2 ) write ( X2 / X1 == X4 + X3 && ( B1 ) ) if ( ( True ) ) { while ( 884 == 809 ) { if ( False ) { } if ( False ) { } write ( 100 ) if ( False ) { } write ( False ) while ( False ) { } read ( X3 ) X3 = 12 write ( False ) write ( 722 ) while ( False ) { } write ( False ) } } while ( ! ( 478 ) >= X1 * X3 ) { } if ( False ) { if ( False ) { if ( False ) { } } } while ( ( True ) ) { read ( X2 ) while ( ( False ) ) { while ( False ) { } read ( X4 ) X5 = 784 while ( False ) { } X1 = 714 } if ( ( False ) ) { write ( 358 ) } while ( False || False ) { write ( 651 ) write ( 685 ) write ( 824 ) read ( X5 ) if ( False ) { } read ( X4 ) write ( 621 ) write ( 199 ) read ( B3 ) if ( False ) { } if ( False ) { } read ( X1 ) write ( False ) } if ( False && False ) { write ( 561 ) } } } if ( B3 ) { B1 = ! False && False } if ( ( ( True && False || X4 + X1 >= 866 + 389 ) ) ) { if ( False || ( ( False ) ) ) { while ( False ) { X1 = 444 X4 = 655 B3 = False } } } write ( X2 * X1 ) write ( ( X2 ) ) if ( X5 * X1 != X3 + X2 ) { X4 = - - X2 } if ( ! B3 || B2 ) { write ( ( 825 <= 392 ) && False && B1 ) } write ( ( ! ! ( ! False ) ) ) read ( X1 ) write ( ! X1 >= X2 || ( ( B2 ) || ! ( False ) ) ) while ( False ) { X2 = ( X3 ) while ( True ) { B2 = False && False while ( ! False ) { if ( False ) { } B2 = False write ( 149 ) B1 = False read ( X4 ) while ( False ) { } read ( X4 ) if ( False ) { } read ( X4 ) } write ( True ) X5 = 14 if ( False && False ) { write ( 203 ) } X3 = ( 492 ) while ( ! False ) { if ( False ) { } if ( False ) { } if ( False ) { } write ( False ) write ( False ) write ( False ) if ( False ) { } write ( 60 ) if ( False ) { } while ( False ) { } B3 = False } X2 = X4 + X2 while ( False && False ) { B1 = False X5 = 779 read ( B1 ) read ( X4 ) while ( False ) { } while ( False ) { } if ( False ) { } while ( False ) { } write ( False ) if ( False ) { } } if ( ! False ) { write ( 559 ) } } read ( X1 ) read ( X5 ) while ( ( False ) || ! False && False ) { X5 = X4 + X3 X1 = X2 + X4 if ( True ) { write ( False ) } while ( False ) { if ( False ) { } read ( X4 ) if ( False ) { } X1 = 812 B1 = False write ( 664 ) X1 = 314 if ( False ) { } read ( X5 ) while ( False ) { } read ( X4 ) write ( 649 ) while ( False ) { } while ( False ) { } } read ( X3 ) read ( X5 ) if ( ! False ) { if ( False ) { } } while ( False || False ) { write ( False ) read ( X2 ) B2 = False if ( False ) { } if ( False ) { } write ( 638 ) X3 = 268 X4 = 910 } write ( X4 / X4 ) if ( B3 ) { write ( False ) } write ( X4 ) write ( B3 ) read ( X5 ) read ( B3 ) } } while ( True ) { read ( X5 ) while ( B1 ) { } read ( X1 ) } X3 = 815 B1 = B2 write ( X2 / X1 + X4 ) read ( B2 ) read ( X5 )


"""

inf = "X1 = 16 X2 =1 while (X1 > 0) { X2 = X2 * X1 X1 = X1 - 1} "

input, output = read_data("../Inputs/example_1_1_A.txt") #Zwraca input i output z pliku

interpreter = Interpreter(input_values=input[0], test=test) 
result = interpreter.run() #Zwraca wynik testu
print("Wynik testu:")
print(f"Output {result[0]}")
print(f"Variables {result[1]}")
print(f"Counter {result[2]}")
print(f"Input_values {result[3]}")
print(f"Number of read input {result[4]}")
